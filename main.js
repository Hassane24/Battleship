(()=>{"use strict";function e(e){const t=document.createElement("div");return t.classList.add("empty"),t.classList.add("cell"),t.setAttribute("coordinate",`${e}`),t}function t(e,t){const r={name:e,length:t,hits:[],sunken:!1},n=()=>{if(r.hits.length==r.length)return r.sunken=!0};return{getLength:()=>r.length,getName:()=>r.name,getHits:()=>r.hits,shipState:()=>r.sunken,hit:()=>{r.hits.push("hit"),n()},isSunk:n,length:t}}function r(){const e={board:Array(100).fill({hasShip:!1,isHit:!1}),fleet:[t("carrier",5),t("battleship",4),t("cruiser",3),t("submarine",3),t("destroyer",2)],locations:[]},r=t=>!t.some((t=>!e.board[t]))&&!t.some((t=>e.board[t].hasShip))&&![9,19,29,39,49,59,69,79,89].some((e=>[e,e+1].every((e=>t.includes(e)))));return{getBoard:()=>e.board,getFleet:()=>e.fleet,getShipLocations:()=>e.locations.flat(),shipPlacement:(t,r,n)=>{const o=((e,t,r)=>{const n=[];for(let o=0;o<r.getLength();o++)"horizontal"===e?n.push(t+o):n.push(t+10*o);return n})(t,r,n);for(let t=0;t<o.length;t++)e.board.splice(o[t],1,{hasShip:!0,isHit:!1,ship:n});return e.locations.push(o),o},receiveAttack:t=>{0==e.board[t].hasShip?e.board.splice(t,1,{hasShip:!1,isHit:!0,missedShot:!0}):(e.board[t].isHit=!0,e.board[t].ship.hit())},checkShipState:()=>e.board.filter((e=>e.hasShip)).map((e=>e.ship)).every((e=>e.isSunk())),checkForValidPlacement:r,randomShipPlacement:t=>{let n=[],o=(e=>{for(let o=0;o<100-t.getLength();o++){let a=[];if("horiz"===e)for(let e=0;e<t.getLength();e++)a.push(o+e);else for(let e=0;e<t.getLength();e++)a.push(o+10*e);r(a)&&n.push(a)}return n[Math.floor(Math.random()*n.length)]})(["horiz","vert"][Math.floor(2*Math.random())]);for(let r=0;r<o.length;r++)e.board.splice(o[r],1,{hasShip:!0,isHit:!1,ship:t})}}}(function(){const t=document.querySelector(".player-name"),n=document.querySelector("#name"),o=document.querySelector(".player-board > span"),a=document.querySelector(".player-name > button"),c=(document.querySelector(".board-container"),document.querySelector(".player-board > .board")),i=document.querySelector(".player-board "),l=(document.querySelector(".cpu-board > .board"),document.querySelector(".cpu-board "),document.querySelector(".container")),s=document.querySelector(".axis");document.querySelector(".start");let h=function(e){let t=function(e,t){const n={name:e,board:r(),playing:!0};return{getName:()=>n.name,setName:e=>n.name=e,attackEnemy:(e,t)=>{e.receiveAttack(t)},whoIsPlaying:()=>n.playing,switchRoles:()=>n.playing=!n.playing}}(e),n=function(e){const t={name:"computer",board:r(),playing:!1,shotsFired:[]},n=()=>{let e=Math.floor(100*Math.random());return o(e,t.shotsFired)&&t.shotsFired.push(e),o(e,t.shotsFired)?e:n()},o=(e,t)=>{for(let r=0;r<t.length;r++)return e!=t[r]};return{getName:()=>t.name,attackEnemy:e=>{e.receiveAttack(n())},whoIsPlaying:()=>t.playing,switchRoles:()=>t.playing=!t.playing}}(),o=r(),a=r(),c=0;const i=()=>o.getFleet(),l=()=>a.getFleet(),s=()=>t.whoIsPlaying(),h=()=>n.whoIsPlaying(),u=()=>{s(),t.switchRoles(),n.switchRoles()};return{getPlayerFleet:i,getPlayerName:()=>t.getName(),getPlayerShipLocations:()=>o.getShipLocations(),getCPUFleet:l,placeCPUShips:()=>{const e=l();for(let t=0;t<e.length;t++)a.randomShipPlacement(e[t])},getShipToPlace:()=>i()[c],placePlayerShips:(e,t)=>{const r=i();o.shipPlacement(t,e,r[c]),c+=1},checkIfAllShipsArePlaced:()=>i().length===c,playerAttack:e=>{s()&&(t.attackEnemy(a,e),u())},cpuAttack:()=>{h()&&(n.attackEnemy(o),u())},playerWon:()=>a.checkShipState(),cpuWon:()=>o.checkShipState(),playerRole:s,cpuRole:h,switchPlayersRoles:u,isValidPlacement:e=>o.checkForValidPlacement(e)}}(n.value),u="horizontal",d=h.getShipToPlace();const p=e=>{const t=[];if("horizontal"===u)for(let r=0;r<d.getLength();r++)t.push(e+r);else for(let r=0;r<d.getLength();r++)t.push(e+10*r);return t},m=()=>u="horizontal"===u?"vert":"horizontal";return{bindEvents:()=>{a.addEventListener("click",(()=>{if(""==n.value)return;i.classList.remove("hide"),o.textContent=n.value,(()=>{for(let t=0;t<100;t++){const r=e(t);c.appendChild(r)}})(),t.remove();const r=document.createElement("div");r.classList.add("place-ships-text"),r.textContent="Place your ships",l.appendChild(r)})),c.addEventListener("mouseout",(e=>{if(h.checkIfAllShipsArePlaced())return;const t=e.target,r=Number(t.getAttribute("coordinate"));p(r).forEach((e=>{const t=c.querySelector(`.empty.cell[coordinate="${e}"]`);t&&t.classList.remove("hover")}))})),c.addEventListener("mouseover",(e=>{if(h.checkIfAllShipsArePlaced())return;const t=e.target;if(t.classList.contains("cell","empty")){const e=Number(t.getAttribute("coordinate")),n=p(e);if(r=n,[9,19,29,39,49,59,69,79,89,99].some((e=>[e,e+1].every((e=>r.includes(e))))))return;n.forEach((e=>{const t=c.querySelector(`.empty.cell[coordinate="${e}"]`);t&&t.classList.add("hover")}))}var r})),c.addEventListener("click",(e=>{if(h.checkIfAllShipsArePlaced())return;const t=e.target;if(t.classList.contains("cell","empty")){const e=Number(t.getAttribute("coordinate")),r=p(e);if(!h.isValidPlacement(r))return;h.placePlayerShips(e,u),h.getPlayerShipLocations().forEach((e=>{document.querySelector(`.cell.empty[coordinate="${e}"]`).classList.add("placed")})),d=h.getShipToPlace()}})),s.addEventListener("click",m)}}})().bindEvents()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q1IsQ0FBQ0EsRUFBS0EsRUFBTSxHQUFHQyxPQUFPQyxHQUMzQkwsRUFBY00sU0FBU0QsT0F5RFcsT0FDcENnRyxFQUFNSCxTQUFTQyxJQUNiLE1BQU0vSCxFQUFPa0UsRUFBWUosY0FDdkIsMkJBQTJCaUUsT0FFekIvSCxHQUFNQSxFQUFLRyxVQUFVQyxJQUFJLFlBbkVOLElBQUN3QixLQXdFOUJzQyxFQUFZaUQsaUJBQWlCLFNBQVVNLElBQ3JDLEdBQUluRCxFQUFLbUMsMkJBQTRCLE9BQ3JDLE1BQU16RyxFQUFPeUgsRUFBRUMsT0FDZixHQUFJMUgsRUFBS0csVUFBVTZILFNBQVMsT0FBUSxTQUFVLENBQzVDLE1BQU1MLEVBQWdCQyxPQUFPNUgsRUFBSzZILGFBQWEsZUFDekNJLEVBQVFqQixFQUFjVyxHQUM1QixJQUFLckQsRUFBS3dDLGlCQUFpQm1CLEdBQVEsT0FDbkMzRCxFQUFLZ0MsaUJBQWlCcUIsRUFBZXBCLEdBL0RyQmpDLEVBQUs0Qix5QkFDYjRCLFNBQVM3RSxJQUNOaEQsU0FBUzZELGNBQ3BCLDJCQUEyQmIsT0FFeEI5QyxVQUFVQyxJQUFJLGFBNERqQnVGLEVBQWNyQixFQUFLK0IscUJBSXZCaEMsRUFBVzhDLGlCQUFpQixRQUFTRixNSW5JekNpQixHQUFvQmhCLGMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbXBvbmVudHMvYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9GYWN0b3J5RnVuY3Rpb25zL1NoaXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvRmFjdG9yeUZ1bmN0aW9ucy9HYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9Nb2R1bGVzL2Rpc3BsYXlDb250cm9sbGVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvTW9kdWxlcy9nYW1lLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvRmFjdG9yeUZ1bmN0aW9ucy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9GYWN0b3J5RnVuY3Rpb25zL0NvbXB1dGVyUGxheWVyLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gYm9hcmQoaWQpIHtcbiAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNlbGwuY2xhc3NMaXN0LmFkZChcImVtcHR5XCIpO1xuICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJjZWxsXCIpO1xuICBjZWxsLnNldEF0dHJpYnV0ZShcImNvb3JkaW5hdGVcIiwgYCR7aWR9YCk7XG4gIHJldHVybiBjZWxsO1xufVxuZXhwb3J0IHsgYm9hcmQgfTtcbiIsImZ1bmN0aW9uIHNoaXBzKG5hbWUsIGxlbmd0aCkge1xuICBjb25zdCBzaGlwID0ge1xuICAgIG5hbWUsXG4gICAgbGVuZ3RoLFxuICAgIGhpdHM6IFtdLFxuICAgIHN1bmtlbjogZmFsc2UsXG4gIH07XG5cbiAgY29uc3QgZ2V0TmFtZSA9ICgpID0+IHtcbiAgICByZXR1cm4gc2hpcC5uYW1lO1xuICB9O1xuICBjb25zdCBnZXRMZW5ndGggPSAoKSA9PiB7XG4gICAgcmV0dXJuIHNoaXAubGVuZ3RoO1xuICB9O1xuICBjb25zdCBnZXRIaXRzID0gKCkgPT4ge1xuICAgIHJldHVybiBzaGlwLmhpdHM7XG4gIH07XG4gIGNvbnN0IHNoaXBTdGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gc2hpcC5zdW5rZW47XG4gIH07XG5cbiAgY29uc3QgaGl0ID0gKCkgPT4ge1xuICAgIHNoaXAuaGl0cy5wdXNoKFwiaGl0XCIpO1xuICAgIGlzU3VuaygpO1xuICB9O1xuXG4gIGNvbnN0IGlzU3VuayA9ICgpID0+IHtcbiAgICBpZiAoc2hpcC5oaXRzLmxlbmd0aCA9PSBzaGlwLmxlbmd0aCkgcmV0dXJuIChzaGlwLnN1bmtlbiA9IHRydWUpO1xuICB9O1xuXG4gIHJldHVybiB7IGdldExlbmd0aCwgZ2V0TmFtZSwgZ2V0SGl0cywgc2hpcFN0YXRlLCBoaXQsIGlzU3VuaywgbGVuZ3RoIH07XG59XG5cbmV4cG9ydCB7IHNoaXBzIH07XG4iLCJpbXBvcnQgeyBzaGlwcyB9IGZyb20gXCIuL1NoaXBzXCI7XG5mdW5jdGlvbiBnYW1lQm9hcmQoKSB7XG4gIGNvbnN0IGdhbWVib2FyZCA9IHtcbiAgICBib2FyZDogQXJyYXkoMTAwKS5maWxsKHsgaGFzU2hpcDogZmFsc2UsIGlzSGl0OiBmYWxzZSB9KSxcbiAgICBmbGVldDogW1xuICAgICAgc2hpcHMoXCJjYXJyaWVyXCIsIDUpLFxuICAgICAgc2hpcHMoXCJiYXR0bGVzaGlwXCIsIDQpLFxuICAgICAgc2hpcHMoXCJjcnVpc2VyXCIsIDMpLFxuICAgICAgc2hpcHMoXCJzdWJtYXJpbmVcIiwgMyksXG4gICAgICBzaGlwcyhcImRlc3Ryb3llclwiLCAyKSxcbiAgICBdLFxuICAgIGxvY2F0aW9uczogW10sXG4gIH07XG5cbiAgY29uc3QgZ2V0Qm9hcmQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGdhbWVib2FyZC5ib2FyZDtcbiAgfTtcblxuICBjb25zdCBnZXRTaGlwTG9jYXRpb25zID0gKCkgPT4ge1xuICAgIHJldHVybiBnYW1lYm9hcmQubG9jYXRpb25zLmZsYXQoKTtcbiAgfTtcblxuICBjb25zdCBnZXRGbGVldCA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2FtZWJvYXJkLmZsZWV0O1xuICB9O1xuXG4gIGNvbnN0IHNoaXBMb2NhdGlvbiA9IChvcmllbnRhdGlvbiwgc3RhcnRpbmdQb3NpdGlvbiwgc2hpcCkgPT4ge1xuICAgIC8vIHJldHVybnMgYW4gYXJyYXkgb2YgbnVtYmVycyB0aGF0IHJlcHJlc2VudCBpbmRleGVzIG9uIHRoZSBib2FyZFxuICAgIGNvbnN0IGxvY2F0aW9uID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmdldExlbmd0aCgpOyBpKyspIHtcbiAgICAgIG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIlxuICAgICAgICA/IGxvY2F0aW9uLnB1c2goc3RhcnRpbmdQb3NpdGlvbiArIGkpXG4gICAgICAgIDogbG9jYXRpb24ucHVzaChzdGFydGluZ1Bvc2l0aW9uICsgaSAqIDEwKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2F0aW9uO1xuICB9O1xuXG4gIGNvbnN0IHNoaXBQbGFjZW1lbnQgPSAob3JpZW50YXRpb24sIHN0YXJ0aW5nUG9zaXRpb24sIFNoaXApID0+IHtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHNoaXBMb2NhdGlvbihvcmllbnRhdGlvbiwgc3RhcnRpbmdQb3NpdGlvbiwgU2hpcCk7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb2NhdGlvbi5sZW5ndGg7IGorKykge1xuICAgICAgZ2FtZWJvYXJkLmJvYXJkLnNwbGljZShsb2NhdGlvbltqXSwgMSwge1xuICAgICAgICBoYXNTaGlwOiB0cnVlLFxuICAgICAgICBpc0hpdDogZmFsc2UsXG4gICAgICAgIHNoaXA6IFNoaXAsXG4gICAgICB9KTtcbiAgICB9XG4gICAgZ2FtZWJvYXJkLmxvY2F0aW9ucy5wdXNoKGxvY2F0aW9uKTtcbiAgICByZXR1cm4gbG9jYXRpb247XG4gIH07XG5cbiAgY29uc3QgY2hlY2tGb3JWYWxpZFBsYWNlbWVudCA9IChsb2NhdGlvbkFycmF5KSA9PiB7XG4gICAgY29uc3QgY29sbGlzaW9ucyA9IFs5LCAxOSwgMjksIDM5LCA0OSwgNTksIDY5LCA3OSwgODldO1xuICAgIGlmIChsb2NhdGlvbkFycmF5LnNvbWUoKGxvYykgPT4gIWdhbWVib2FyZC5ib2FyZFtsb2NdKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAobG9jYXRpb25BcnJheS5zb21lKChsb2MpID0+IGdhbWVib2FyZC5ib2FyZFtsb2NdLmhhc1NoaXApKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGNvbGxpc2lvbnMuc29tZSgobnVtKSA9PiB7XG4gICAgICAgIHJldHVybiBbbnVtLCBudW0gKyAxXS5ldmVyeSgoY29tYmluYXRpb24pID0+XG4gICAgICAgICAgbG9jYXRpb25BcnJheS5pbmNsdWRlcyhjb21iaW5hdGlvbilcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByYW5kb21TaGlwUGxhY2VtZW50ID0gKHNoaXApID0+IHtcbiAgICBsZXQgYWxsUG9zc2libGVMb2NhdGlvbnMgPSBbXTtcblxuICAgIC8vIHJldHVybnMgYSByYW5kb20gb3JpZW50YXRpb25cblxuICAgIGNvbnN0IHJhbmRvbU9yaWVudGF0aW9uID0gKCkgPT5cbiAgICAgIFtcImhvcml6XCIsIFwidmVydFwiXVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKV07XG5cbiAgICAvLyBmaW5kcyBhbGwgcG9zc2libGUgbG9jYXRpb25zIGEgc2hpcCBjYW4gYmUgcGxhY2VkIGF0XG5cbiAgICBjb25zdCBmaW5kQWxsUG9zc2libGVMb2NhdGlvbnMgPSAob3JpZW50YXRpb24pID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwIC0gc2hpcC5nZXRMZW5ndGgoKTsgaSsrKSB7XG4gICAgICAgIGxldCBsb2NhdGlvbkFycmF5ID0gW107XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBcImhvcml6XCIpXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzaGlwLmdldExlbmd0aCgpOyBqKyspIHtcbiAgICAgICAgICAgIGxvY2F0aW9uQXJyYXkucHVzaChpICsgaik7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzaGlwLmdldExlbmd0aCgpOyBqKyspIHtcbiAgICAgICAgICAgIGxvY2F0aW9uQXJyYXkucHVzaChpICsgaiAqIDEwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2tzIHdoZXRoZXIgdGhlIGNyZWF0ZWQgbG9jYXRpb24gaXMgdmFsaWQgb3Igbm90XG5cbiAgICAgICAgaWYgKGNoZWNrRm9yVmFsaWRQbGFjZW1lbnQobG9jYXRpb25BcnJheSkpXG4gICAgICAgICAgYWxsUG9zc2libGVMb2NhdGlvbnMucHVzaChsb2NhdGlvbkFycmF5KTtcbiAgICAgIH1cblxuICAgICAgLy8gcmV0dXJucyBvbmUgcmFuZG9tIHNoaXAgbG9jYXRpb24gb3V0IG9mIG1hbnlcblxuICAgICAgcmV0dXJuIGFsbFBvc3NpYmxlTG9jYXRpb25zW1xuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhbGxQb3NzaWJsZUxvY2F0aW9ucy5sZW5ndGgpXG4gICAgICBdO1xuICAgIH07XG5cbiAgICBsZXQgbG9jYXRpb24gPSBmaW5kQWxsUG9zc2libGVMb2NhdGlvbnMocmFuZG9tT3JpZW50YXRpb24oKSk7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb2NhdGlvbi5sZW5ndGg7IGorKykge1xuICAgICAgZ2FtZWJvYXJkLmJvYXJkLnNwbGljZShsb2NhdGlvbltqXSwgMSwge1xuICAgICAgICBoYXNTaGlwOiB0cnVlLFxuICAgICAgICBpc0hpdDogZmFsc2UsXG4gICAgICAgIHNoaXA6IHNoaXAsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjb29yZGluYXRlKSA9PiB7XG4gICAgaWYgKGdhbWVib2FyZC5ib2FyZFtjb29yZGluYXRlXS5oYXNTaGlwID09IGZhbHNlKVxuICAgICAgZ2FtZWJvYXJkLmJvYXJkLnNwbGljZShjb29yZGluYXRlLCAxLCB7XG4gICAgICAgIGhhc1NoaXA6IGZhbHNlLFxuICAgICAgICBpc0hpdDogdHJ1ZSxcbiAgICAgICAgbWlzc2VkU2hvdDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIGVsc2Uge1xuICAgICAgZ2FtZWJvYXJkLmJvYXJkW2Nvb3JkaW5hdGVdLmlzSGl0ID0gdHJ1ZTtcbiAgICAgIGdhbWVib2FyZC5ib2FyZFtjb29yZGluYXRlXS5zaGlwLmhpdCgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjaGVja1NoaXBTdGF0ZSA9ICgpID0+IHtcbiAgICByZXR1cm4gZ2FtZWJvYXJkLmJvYXJkXG4gICAgICAuZmlsdGVyKChlbCkgPT4gZWwuaGFzU2hpcClcbiAgICAgIC5tYXAoKGVsKSA9PiBlbC5zaGlwKVxuICAgICAgLmV2ZXJ5KChlbCkgPT4gZWwuaXNTdW5rKCkpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgZ2V0Qm9hcmQsXG4gICAgZ2V0RmxlZXQsXG4gICAgZ2V0U2hpcExvY2F0aW9ucyxcbiAgICBzaGlwUGxhY2VtZW50LFxuICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgY2hlY2tTaGlwU3RhdGUsXG4gICAgY2hlY2tGb3JWYWxpZFBsYWNlbWVudCxcbiAgICByYW5kb21TaGlwUGxhY2VtZW50LFxuICB9O1xufVxuXG5leHBvcnQgeyBnYW1lQm9hcmQgfTtcbiIsImltcG9ydCB7IGJvYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvYm9hcmRcIjtcbmltcG9ydCB7IGdhbWUgfSBmcm9tIFwiLi9nYW1lXCI7XG5cbmZ1bmN0aW9uIGRpc3BsYXlDb250cm9sbGVyKCkge1xuICBjb25zdCBuYW1lU2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItbmFtZVwiKTtcbiAgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpO1xuICBjb25zdCBwbGF5ZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItYm9hcmQgPiBzcGFuXCIpO1xuICBjb25zdCBwbGF5QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItbmFtZSA+IGJ1dHRvblwiKTtcbiAgY29uc3QgYm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvYXJkLWNvbnRhaW5lclwiKTtcbiAgY29uc3QgcGxheWVyQm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllci1ib2FyZCA+IC5ib2FyZFwiKTtcbiAgY29uc3QgcGxheWVyQm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllci1ib2FyZCBcIik7XG4gIGNvbnN0IGNwdUJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jcHUtYm9hcmQgPiAuYm9hcmRcIik7XG4gIGNvbnN0IGNwdUJvYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jcHUtYm9hcmQgXCIpO1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKTtcbiAgY29uc3QgY2hhbmdlQXhpcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYXhpc1wiKTtcbiAgY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN0YXJ0XCIpO1xuICBsZXQgR2FtZSA9IGdhbWUobmFtZUlucHV0LnZhbHVlKTtcbiAgbGV0IGF4aXMgPSBcImhvcml6b250YWxcIjtcbiAgbGV0IHNoaXBUb1BsYWNlID0gR2FtZS5nZXRTaGlwVG9QbGFjZSgpO1xuXG4gIGNvbnN0IHJlbmRlclBsYXllckJvYXJkID0gKCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBib2FyZChpKTtcbiAgICAgIHBsYXllckJvYXJkLmFwcGVuZENoaWxkKGNlbGwpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZW5kZXJDcHVCb2FyZCA9ICgpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICBjb25zdCBjZWxsID0gYm9hcmQoaSk7XG4gICAgICBjcHVCb2FyZC5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2VuZXJhdGVCbG9jayA9IChjb29yZGluYXRlKSA9PiB7XG4gICAgY29uc3QgbG9jYXRpb24gPSBbXTtcbiAgICBpZiAoYXhpcyA9PT0gXCJob3Jpem9udGFsXCIpXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBUb1BsYWNlLmdldExlbmd0aCgpOyBpKyspIHtcbiAgICAgICAgbG9jYXRpb24ucHVzaChjb29yZGluYXRlICsgaSk7XG4gICAgICB9XG4gICAgZWxzZVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwVG9QbGFjZS5nZXRMZW5ndGgoKTsgaSsrKSB7XG4gICAgICAgIGxvY2F0aW9uLnB1c2goY29vcmRpbmF0ZSArIGkgKiAxMCk7XG4gICAgICB9XG4gICAgcmV0dXJuIGxvY2F0aW9uO1xuICB9O1xuXG4gIGNvbnN0IGNoZWNrRm9yVmFsaWRQbGFjZW1lbnQgPSAobG9jYXRpb25BcnJheSkgPT4ge1xuICAgIGNvbnN0IGNvbGxpc2lvbnMgPSBbOSwgMTksIDI5LCAzOSwgNDksIDU5LCA2OSwgNzksIDg5LCA5OV07XG4gICAgaWYgKFxuICAgICAgY29sbGlzaW9ucy5zb21lKChudW0pID0+IHtcbiAgICAgICAgcmV0dXJuIFtudW0sIG51bSArIDFdLmV2ZXJ5KChjb21iaW5hdGlvbikgPT5cbiAgICAgICAgICBsb2NhdGlvbkFycmF5LmluY2x1ZGVzKGNvbWJpbmF0aW9uKVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlbmRlclNoaXBzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gR2FtZS5nZXRQbGF5ZXJTaGlwTG9jYXRpb25zKCk7XG4gICAgY29vcmRpbmF0ZXMuZm9yRWFjaCgoY29vcmRpbmF0ZSkgPT4ge1xuICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGAuY2VsbC5lbXB0eVtjb29yZGluYXRlPVwiJHtjb29yZGluYXRlfVwiXWBcbiAgICAgICk7XG4gICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJwbGFjZWRcIik7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY2hhbmdlT3JpZW50YXRpb24gPSAoKSA9PiB7XG4gICAgaWYgKGF4aXMgPT09IFwiaG9yaXpvbnRhbFwiKSByZXR1cm4gKGF4aXMgPSBcInZlcnRcIik7XG4gICAgZWxzZSByZXR1cm4gKGF4aXMgPSBcImhvcml6b250YWxcIik7XG4gIH07XG5cbiAgY29uc3QgYmluZEV2ZW50cyA9ICgpID0+IHtcbiAgICBwbGF5QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBpZiAobmFtZUlucHV0LnZhbHVlID09IFwiXCIpIHJldHVybjtcbiAgICAgIHBsYXllckJvYXJkQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xuICAgICAgcGxheWVyTmFtZS50ZXh0Q29udGVudCA9IG5hbWVJbnB1dC52YWx1ZTtcbiAgICAgIHJlbmRlclBsYXllckJvYXJkKCk7XG4gICAgICBuYW1lU2NyZWVuLnJlbW92ZSgpO1xuICAgICAgY29uc3QgcGxhY2VTaGlwc1RleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcGxhY2VTaGlwc1RleHQuY2xhc3NMaXN0LmFkZChcInBsYWNlLXNoaXBzLXRleHRcIik7XG4gICAgICBwbGFjZVNoaXBzVGV4dC50ZXh0Q29udGVudCA9IFwiUGxhY2UgeW91ciBzaGlwc1wiO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBsYWNlU2hpcHNUZXh0KTtcbiAgICB9KTtcblxuICAgIHBsYXllckJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoZSkgPT4ge1xuICAgICAgaWYgKEdhbWUuY2hlY2tJZkFsbFNoaXBzQXJlUGxhY2VkKCkpIHJldHVybjtcbiAgICAgIGNvbnN0IGNlbGwgPSBlLnRhcmdldDtcbiAgICAgIGNvbnN0IHN0YXJ0aW5nUG9pbnQgPSBOdW1iZXIoY2VsbC5nZXRBdHRyaWJ1dGUoXCJjb29yZGluYXRlXCIpKTtcbiAgICAgIGNvbnN0IGJsb2NrID0gZ2VuZXJhdGVCbG9jayhzdGFydGluZ1BvaW50KTtcbiAgICAgIGJsb2NrLmZvckVhY2goKHNxdWFyZSkgPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0gcGxheWVyQm9hcmQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICBgLmVtcHR5LmNlbGxbY29vcmRpbmF0ZT1cIiR7c3F1YXJlfVwiXWBcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNlbGwpIGNlbGwuY2xhc3NMaXN0LnJlbW92ZShcImhvdmVyXCIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBwbGF5ZXJCb2FyZC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIChlKSA9PiB7XG4gICAgICBpZiAoR2FtZS5jaGVja0lmQWxsU2hpcHNBcmVQbGFjZWQoKSkgcmV0dXJuO1xuICAgICAgY29uc3QgY2VsbCA9IGUudGFyZ2V0O1xuICAgICAgaWYgKGNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2VsbFwiLCBcImVtcHR5XCIpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0aW5nUG9pbnQgPSBOdW1iZXIoY2VsbC5nZXRBdHRyaWJ1dGUoXCJjb29yZGluYXRlXCIpKTtcbiAgICAgICAgY29uc3QgYmxvY2sgPSBnZW5lcmF0ZUJsb2NrKHN0YXJ0aW5nUG9pbnQpO1xuICAgICAgICBpZiAoIWNoZWNrRm9yVmFsaWRQbGFjZW1lbnQoYmxvY2spKSByZXR1cm47XG4gICAgICAgIGJsb2NrLmZvckVhY2goKHNxdWFyZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNlbGwgPSBwbGF5ZXJCb2FyZC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgYC5lbXB0eS5jZWxsW2Nvb3JkaW5hdGU9XCIke3NxdWFyZX1cIl1gXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoY2VsbCkgY2VsbC5jbGFzc0xpc3QuYWRkKFwiaG92ZXJcIik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcGxheWVyQm9hcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICBpZiAoR2FtZS5jaGVja0lmQWxsU2hpcHNBcmVQbGFjZWQoKSkgcmV0dXJuO1xuICAgICAgY29uc3QgY2VsbCA9IGUudGFyZ2V0O1xuICAgICAgaWYgKGNlbGwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2VsbFwiLCBcImVtcHR5XCIpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0aW5nUG9pbnQgPSBOdW1iZXIoY2VsbC5nZXRBdHRyaWJ1dGUoXCJjb29yZGluYXRlXCIpKTtcbiAgICAgICAgY29uc3QgYmxvY2sgPSBnZW5lcmF0ZUJsb2NrKHN0YXJ0aW5nUG9pbnQpO1xuICAgICAgICBpZiAoIUdhbWUuaXNWYWxpZFBsYWNlbWVudChibG9jaykpIHJldHVybjtcbiAgICAgICAgR2FtZS5wbGFjZVBsYXllclNoaXBzKHN0YXJ0aW5nUG9pbnQsIGF4aXMpO1xuICAgICAgICByZW5kZXJTaGlwcygpO1xuICAgICAgICBzaGlwVG9QbGFjZSA9IEdhbWUuZ2V0U2hpcFRvUGxhY2UoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNoYW5nZUF4aXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoYW5nZU9yaWVudGF0aW9uKTtcbiAgfTtcbiAgcmV0dXJuIHsgYmluZEV2ZW50cyB9O1xufVxuXG5leHBvcnQgeyBkaXNwbGF5Q29udHJvbGxlciB9O1xuIiwiaW1wb3J0IHsgZ2FtZUJvYXJkIH0gZnJvbSBcIi4uL0ZhY3RvcnlGdW5jdGlvbnMvR2FtZWJvYXJkXCI7XG5pbXBvcnQgeyBwbGF5ZXIgfSBmcm9tIFwiLi4vRmFjdG9yeUZ1bmN0aW9ucy9QbGF5ZXJcIjtcbmltcG9ydCB7IGNvbXB1dGVyUGxheWVyIH0gZnJvbSBcIi4uL0ZhY3RvcnlGdW5jdGlvbnMvQ29tcHV0ZXJQbGF5ZXJcIjtcblxuZnVuY3Rpb24gZ2FtZShuYW1lKSB7XG4gIGxldCBodW1hblBsYXllciA9IHBsYXllcihuYW1lLCB0cnVlKTtcbiAgbGV0IGNwdVBsYXllciA9IGNvbXB1dGVyUGxheWVyKGZhbHNlKTtcbiAgbGV0IGh1bWFuQm9hcmQgPSBnYW1lQm9hcmQoKTtcbiAgbGV0IGNwdUJvYXJkID0gZ2FtZUJvYXJkKCk7XG4gIGxldCBzaGlwVG9QbGFjZSA9IDA7XG5cbiAgY29uc3QgZ2V0UGxheWVyRmxlZXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGh1bWFuQm9hcmQuZ2V0RmxlZXQoKTtcbiAgfTtcblxuICBjb25zdCBnZXRQbGF5ZXJOYW1lID0gKCkgPT4ge1xuICAgIHJldHVybiBodW1hblBsYXllci5nZXROYW1lKCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0UGxheWVyU2hpcExvY2F0aW9ucyA9ICgpID0+IHtcbiAgICByZXR1cm4gaHVtYW5Cb2FyZC5nZXRTaGlwTG9jYXRpb25zKCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0Q1BVRmxlZXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGNwdUJvYXJkLmdldEZsZWV0KCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0U2hpcFRvUGxhY2UgPSAoKSA9PiB7XG4gICAgY29uc3QgZmxlZXQgPSBnZXRQbGF5ZXJGbGVldCgpO1xuICAgIGNvbnN0IHNoaXAgPSBmbGVldFtzaGlwVG9QbGFjZV07XG4gICAgcmV0dXJuIHNoaXA7XG4gIH07XG5cbiAgY29uc3QgcGxhY2VDUFVTaGlwcyA9ICgpID0+IHtcbiAgICBjb25zdCBjcHVGbGVldCA9IGdldENQVUZsZWV0KCk7XG4gICAgZm9yIChsZXQgc2hpcCA9IDA7IHNoaXAgPCBjcHVGbGVldC5sZW5ndGg7IHNoaXArKylcbiAgICAgIGNwdUJvYXJkLnJhbmRvbVNoaXBQbGFjZW1lbnQoY3B1RmxlZXRbc2hpcF0pO1xuICB9O1xuXG4gIGNvbnN0IHBsYWNlUGxheWVyU2hpcHMgPSAobG9jYXRpb24sIGF4aXMpID0+IHtcbiAgICBjb25zdCBwbGF5ZXJGbGVldCA9IGdldFBsYXllckZsZWV0KCk7XG4gICAgaHVtYW5Cb2FyZC5zaGlwUGxhY2VtZW50KGF4aXMsIGxvY2F0aW9uLCBwbGF5ZXJGbGVldFtzaGlwVG9QbGFjZV0pO1xuICAgIHNoaXBUb1BsYWNlICs9IDE7XG4gIH07XG5cbiAgY29uc3QgY2hlY2tJZkFsbFNoaXBzQXJlUGxhY2VkID0gKCkgPT4ge1xuICAgIHJldHVybiBnZXRQbGF5ZXJGbGVldCgpLmxlbmd0aCA9PT0gc2hpcFRvUGxhY2U7XG4gIH07XG5cbiAgY29uc3QgcGxheWVyQXR0YWNrID0gKGNvb3JkaW5hdGUpID0+IHtcbiAgICBpZiAocGxheWVyUm9sZSgpKSB7XG4gICAgICBodW1hblBsYXllci5hdHRhY2tFbmVteShjcHVCb2FyZCwgY29vcmRpbmF0ZSk7XG4gICAgICBzd2l0Y2hQbGF5ZXJzUm9sZXMoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY3B1QXR0YWNrID0gKCkgPT4ge1xuICAgIGlmIChjcHVSb2xlKCkpIHtcbiAgICAgIGNwdVBsYXllci5hdHRhY2tFbmVteShodW1hbkJvYXJkKTtcbiAgICAgIHN3aXRjaFBsYXllcnNSb2xlcygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBwbGF5ZXJXb24gPSAoKSA9PiB7XG4gICAgcmV0dXJuIGNwdUJvYXJkLmNoZWNrU2hpcFN0YXRlKCk7XG4gIH07XG5cbiAgY29uc3QgY3B1V29uID0gKCkgPT4ge1xuICAgIHJldHVybiBodW1hbkJvYXJkLmNoZWNrU2hpcFN0YXRlKCk7XG4gIH07XG5cbiAgY29uc3QgcGxheWVyUm9sZSA9ICgpID0+IHtcbiAgICByZXR1cm4gaHVtYW5QbGF5ZXIud2hvSXNQbGF5aW5nKCk7XG4gIH07XG5cbiAgY29uc3QgY3B1Um9sZSA9ICgpID0+IHtcbiAgICByZXR1cm4gY3B1UGxheWVyLndob0lzUGxheWluZygpO1xuICB9O1xuXG4gIGNvbnN0IHN3aXRjaFBsYXllcnNSb2xlcyA9ICgpID0+IHtcbiAgICBpZiAocGxheWVyUm9sZSgpKSB7XG4gICAgICBodW1hblBsYXllci5zd2l0Y2hSb2xlcygpO1xuICAgICAgY3B1UGxheWVyLnN3aXRjaFJvbGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGh1bWFuUGxheWVyLnN3aXRjaFJvbGVzKCk7XG4gICAgICBjcHVQbGF5ZXIuc3dpdGNoUm9sZXMoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaXNWYWxpZFBsYWNlbWVudCA9IChsb2NhdGlvbikgPT4ge1xuICAgIHJldHVybiBodW1hbkJvYXJkLmNoZWNrRm9yVmFsaWRQbGFjZW1lbnQobG9jYXRpb24pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgZ2V0UGxheWVyRmxlZXQsXG4gICAgZ2V0UGxheWVyTmFtZSxcbiAgICBnZXRQbGF5ZXJTaGlwTG9jYXRpb25zLFxuICAgIGdldENQVUZsZWV0LFxuICAgIHBsYWNlQ1BVU2hpcHMsXG4gICAgZ2V0U2hpcFRvUGxhY2UsXG4gICAgcGxhY2VQbGF5ZXJTaGlwcyxcbiAgICBjaGVja0lmQWxsU2hpcHNBcmVQbGFjZWQsXG4gICAgcGxheWVyQXR0YWNrLFxuICAgIGNwdUF0dGFjayxcbiAgICBwbGF5ZXJXb24sXG4gICAgY3B1V29uLFxuICAgIHBsYXllclJvbGUsXG4gICAgY3B1Um9sZSxcbiAgICBzd2l0Y2hQbGF5ZXJzUm9sZXMsXG4gICAgaXNWYWxpZFBsYWNlbWVudCxcbiAgfTtcbn1cblxuZXhwb3J0IHsgZ2FtZSB9O1xuIiwiaW1wb3J0IHsgZ2FtZUJvYXJkIH0gZnJvbSBcIi4vR2FtZWJvYXJkXCI7XG5mdW5jdGlvbiBwbGF5ZXIobmFtZSwgcGxheWluZykge1xuICBjb25zdCBwbGF5ZXJJbmZvID0ge1xuICAgIG5hbWUsXG4gICAgYm9hcmQ6IGdhbWVCb2FyZCgpLFxuICAgIHBsYXlpbmcsXG4gIH07XG5cbiAgY29uc3Qgd2hvSXNQbGF5aW5nID0gKCkgPT4ge1xuICAgIHJldHVybiBwbGF5ZXJJbmZvLnBsYXlpbmc7XG4gIH07XG5cbiAgY29uc3Qgc3dpdGNoUm9sZXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChwbGF5ZXJJbmZvLnBsYXlpbmcgPSAhcGxheWVySW5mby5wbGF5aW5nKTtcbiAgfTtcblxuICBjb25zdCBnZXROYW1lID0gKCkgPT4ge1xuICAgIHJldHVybiBwbGF5ZXJJbmZvLm5hbWU7XG4gIH07XG5cbiAgY29uc3Qgc2V0TmFtZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiAocGxheWVySW5mby5uYW1lID0gdmFsdWUpO1xuICB9O1xuXG4gIGNvbnN0IGF0dGFja0VuZW15ID0gKGVuZW15Qm9hcmQsIHNob3QpID0+IHtcbiAgICBlbmVteUJvYXJkLnJlY2VpdmVBdHRhY2soc2hvdCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBnZXROYW1lLFxuICAgIHNldE5hbWUsXG4gICAgYXR0YWNrRW5lbXksXG4gICAgd2hvSXNQbGF5aW5nLFxuICAgIHN3aXRjaFJvbGVzLFxuICB9O1xufVxuXG5leHBvcnQgeyBwbGF5ZXIgfTtcbiIsImltcG9ydCB7IGdhbWVCb2FyZCB9IGZyb20gXCIuL0dhbWVib2FyZFwiO1xuZnVuY3Rpb24gY29tcHV0ZXJQbGF5ZXIocGxheWluZykge1xuICBjb25zdCBwbGF5ZXJJbmZvID0ge1xuICAgIG5hbWU6IFwiY29tcHV0ZXJcIixcbiAgICBib2FyZDogZ2FtZUJvYXJkKCksXG4gICAgcGxheWluZyxcbiAgICBzaG90c0ZpcmVkOiBbXSxcbiAgfTtcblxuICBjb25zdCB3aG9Jc1BsYXlpbmcgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHBsYXllckluZm8ucGxheWluZztcbiAgfTtcblxuICBjb25zdCBzd2l0Y2hSb2xlcyA9ICgpID0+IHtcbiAgICByZXR1cm4gKHBsYXllckluZm8ucGxheWluZyA9ICFwbGF5ZXJJbmZvLnBsYXlpbmcpO1xuICB9O1xuXG4gIGNvbnN0IGdldE5hbWUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHBsYXllckluZm8ubmFtZTtcbiAgfTtcblxuICBjb25zdCByYW5kb21JbmRleCA9ICgpID0+IHtcbiAgICBsZXQgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xuICAgIGlmIChjaGVja1JhbmRvbUluZGV4KGluZGV4LCBwbGF5ZXJJbmZvLnNob3RzRmlyZWQpKVxuICAgICAgcGxheWVySW5mby5zaG90c0ZpcmVkLnB1c2goaW5kZXgpO1xuICAgIGlmICghY2hlY2tSYW5kb21JbmRleChpbmRleCwgcGxheWVySW5mby5zaG90c0ZpcmVkKSkgcmV0dXJuIHJhbmRvbUluZGV4KCk7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9O1xuXG4gIGNvbnN0IGNoZWNrUmFuZG9tSW5kZXggPSAodmFsdWUsIGFycmF5KSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHZhbHVlID09IGFycmF5W2ldKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgYXR0YWNrRW5lbXkgPSAoZW5lbXlCb2FyZCkgPT4ge1xuICAgIGVuZW15Qm9hcmQucmVjZWl2ZUF0dGFjayhyYW5kb21JbmRleCgpKTtcbiAgfTtcblxuICByZXR1cm4geyBnZXROYW1lLCBhdHRhY2tFbmVteSwgd2hvSXNQbGF5aW5nLCBzd2l0Y2hSb2xlcyB9O1xufVxuZXhwb3J0IHsgY29tcHV0ZXJQbGF5ZXIgfTtcbiIsImltcG9ydCB7IGRpc3BsYXlDb250cm9sbGVyIH0gZnJvbSBcIi4vTW9kdWxlcy9kaXNwbGF5Q29udHJvbGxlclwiO1xuZGlzcGxheUNvbnRyb2xsZXIoKS5iaW5kRXZlbnRzKCk7XG4iXSwibmFtZXMiOlsiYm9hcmQiLCJpZCIsImNlbGwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJzaGlwcyIsIm5hbWUiLCJsZW5ndGgiLCJzaGlwIiwiaGl0cyIsInN1bmtlbiIsImlzU3VuayIsImdldExlbmd0aCIsImdldE5hbWUiLCJnZXRIaXRzIiwic2hpcFN0YXRlIiwiaGl0IiwicHVzaCIsImdhbWVCb2FyZCIsImdhbWVib2FyZCIsIkFycmF5IiwiZmlsbCIsImhhc1NoaXAiLCJpc0hpdCIsImZsZWV0IiwibG9jYXRpb25zIiwiY2hlY2tGb3JWYWxpZFBsYWNlbWVudCIsImxvY2F0aW9uQXJyYXkiLCJzb21lIiwibG9jIiwibnVtIiwiZXZlcnkiLCJjb21iaW5hdGlvbiIsImluY2x1ZGVzIiwiZ2V0Qm9hcmQiLCJnZXRGbGVldCIsImdldFNoaXBMb2NhdGlvbnMiLCJmbGF0Iiwic2hpcFBsYWNlbWVudCIsIm9yaWVudGF0aW9uIiwic3RhcnRpbmdQb3NpdGlvbiIsIlNoaXAiLCJsb2NhdGlvbiIsImkiLCJzaGlwTG9jYXRpb24iLCJqIiwic3BsaWNlIiwicmVjZWl2ZUF0dGFjayIsImNvb3JkaW5hdGUiLCJtaXNzZWRTaG90IiwiY2hlY2tTaGlwU3RhdGUiLCJmaWx0ZXIiLCJlbCIsIm1hcCIsInJhbmRvbVNoaXBQbGFjZW1lbnQiLCJhbGxQb3NzaWJsZUxvY2F0aW9ucyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImZpbmRBbGxQb3NzaWJsZUxvY2F0aW9ucyIsIm5hbWVTY3JlZW4iLCJxdWVyeVNlbGVjdG9yIiwibmFtZUlucHV0IiwicGxheWVyTmFtZSIsInBsYXlCdXR0b24iLCJwbGF5ZXJCb2FyZCIsInBsYXllckJvYXJkQ29udGFpbmVyIiwiY29udGFpbmVyIiwiY2hhbmdlQXhpcyIsIkdhbWUiLCJodW1hblBsYXllciIsInBsYXlpbmciLCJwbGF5ZXJJbmZvIiwic2V0TmFtZSIsInZhbHVlIiwiYXR0YWNrRW5lbXkiLCJlbmVteUJvYXJkIiwic2hvdCIsIndob0lzUGxheWluZyIsInN3aXRjaFJvbGVzIiwicGxheWVyIiwiY3B1UGxheWVyIiwic2hvdHNGaXJlZCIsInJhbmRvbUluZGV4IiwiaW5kZXgiLCJjaGVja1JhbmRvbUluZGV4IiwiYXJyYXkiLCJjb21wdXRlclBsYXllciIsImh1bWFuQm9hcmQiLCJjcHVCb2FyZCIsInNoaXBUb1BsYWNlIiwiZ2V0UGxheWVyRmxlZXQiLCJnZXRDUFVGbGVldCIsInBsYXllclJvbGUiLCJjcHVSb2xlIiwic3dpdGNoUGxheWVyc1JvbGVzIiwiZ2V0UGxheWVyTmFtZSIsImdldFBsYXllclNoaXBMb2NhdGlvbnMiLCJwbGFjZUNQVVNoaXBzIiwiY3B1RmxlZXQiLCJnZXRTaGlwVG9QbGFjZSIsInBsYWNlUGxheWVyU2hpcHMiLCJheGlzIiwicGxheWVyRmxlZXQiLCJjaGVja0lmQWxsU2hpcHNBcmVQbGFjZWQiLCJwbGF5ZXJBdHRhY2siLCJjcHVBdHRhY2siLCJwbGF5ZXJXb24iLCJjcHVXb24iLCJpc1ZhbGlkUGxhY2VtZW50IiwiZ2FtZSIsImdlbmVyYXRlQmxvY2siLCJjaGFuZ2VPcmllbnRhdGlvbiIsImJpbmRFdmVudHMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInJlbmRlclBsYXllckJvYXJkIiwicGxhY2VTaGlwc1RleHQiLCJlIiwidGFyZ2V0Iiwic3RhcnRpbmdQb2ludCIsIk51bWJlciIsImdldEF0dHJpYnV0ZSIsImZvckVhY2giLCJzcXVhcmUiLCJjb250YWlucyIsImJsb2NrIiwiZGlzcGxheUNvbnRyb2xsZXIiXSwic291cmNlUm9vdCI6IiJ9